% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_input.R
\name{longy_data}
\alias{longy_data}
\title{Create a longy_data Object for Longitudinal Causal Inference}
\usage{
longy_data(
  data,
  id,
  time,
  outcome,
  treatment,
  censoring = NULL,
  observation = NULL,
  baseline = character(0),
  timevarying = character(0),
  sampling_weights = NULL,
  outcome_type = "binary",
  competing_risks = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{data}{A data.frame or data.table in long format (one row per subject-time).}

\item{id}{Character. Column name for subject identifier.}

\item{time}{Character. Column name for time index (integer).}

\item{outcome}{Character. Column name for the outcome variable.}

\item{treatment}{Character. Column name for binary treatment (0/1).}

\item{censoring}{Character vector. Column name(s) for absorbing censoring
indicators (1 = censored). Once censored, subject is gone. Can be NULL
if no censoring. When multiple censoring sources are provided, each is
modeled separately and their weights are multiplied. \strong{Important}: if
multiple censoring events can occur within the same interval, the data
should be prepared so that only the first censoring event is recorded.
The package does not model within-interval ordering of censoring sources.}

\item{observation}{Character. Column name for intermittent outcome
measurement indicator (1 = observed). Subject can return after R=0.
If NULL, assumes outcome is always observed when uncensored.}

\item{baseline}{Character vector. Column names for time-invariant covariates.}

\item{timevarying}{Character vector. Column names for time-varying covariates.}

\item{sampling_weights}{Character. Column name for external sampling/survey
weights (e.g., to generalize from the study to a target population). Must
be non-negative (zero allowed to exclude subjects) and constant within
subject. These weights are used in nuisance model fitting (as observation
weights in glm/SuperLearner), in computing marginal rates for stabilized
weights, and multiply the final IPW weight. Follows ltmle's
\code{observation.weights} convention. NULL if none.}

\item{outcome_type}{Character. One of \code{"binary"}, \code{"continuous"}, \code{"survival"}.}

\item{competing_risks}{Logical. Whether the outcome involves competing risks.}

\item{verbose}{Logical. Print progress messages.}
}
\value{
An S3 object of class \code{"longy_data"}.
}
\description{
Constructs and validates a \code{longy_data} S3 object from a long-format dataset
(one row per subject-time). This is the entry point for the longy pipeline.
}
\examples{
\dontrun{
obj <- longy_data(
  data = sim_longy,
  id = "id", time = "time", outcome = "Y",
  treatment = "A", censoring = "C", observation = "R",
  baseline = c("W1", "W2"), timevarying = c("L1", "L2")
)
}

}

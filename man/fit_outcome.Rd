% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_outcome.R
\name{fit_outcome}
\alias{fit_outcome}
\title{Fit Outcome Regression Models via Sequential Regression}
\usage{
fit_outcome(
  obj,
  regime,
  covariates = NULL,
  learners = NULL,
  sl_control = list(),
  adaptive_cv = TRUE,
  min_obs = 50L,
  bounds = c(0.005, 0.995),
  times = NULL,
  verbose = TRUE
)
}
\arguments{
\item{obj}{A \code{longy_data} object with at least one regime defined.}

\item{regime}{Character. Name of the regime to fit for.}

\item{covariates}{Character vector. Column names to use as predictors.
If NULL, uses all baseline + timevarying covariates.}

\item{learners}{Character vector. SuperLearner library names.
If NULL, uses glm only.}

\item{sl_control}{List. Additional arguments passed to SuperLearner.}

\item{adaptive_cv}{Logical. Use adaptive CV fold selection based on effective
sample size.}

\item{min_obs}{Integer. Minimum observations to fit a model; below this
threshold, uses marginal mean.}

\item{bounds}{Numeric vector of length 2. Bounds for predicted probabilities
(only applied for binary/survival outcomes).}

\item{times}{Numeric vector. If provided, only fit models through
\code{max(times)}. Saves computation when estimation is only needed at
early time points.}

\item{verbose}{Logical. Print progress.}
}
\value{
Modified \code{longy_data} object with outcome fits stored in
\code{obj$fits$outcome}.
}
\description{
Fits outcome models E\code{[Y | covariates, A]} backward in time using iterated
conditional expectations (ICE). At each time t, a model is fit for the
pseudo-outcome Q (initially Y, then predictions from t+1) on the risk set
(regime-consistent and uncensored through t). Counterfactual predictions
are obtained by setting A to the regime value.
}

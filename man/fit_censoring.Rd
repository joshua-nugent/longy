% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_censoring.R
\name{fit_censoring}
\alias{fit_censoring}
\title{Fit Censoring Models (g_C)}
\usage{
fit_censoring(
  obj,
  regime = NULL,
  covariates = NULL,
  learners = NULL,
  sl_control = list(),
  adaptive_cv = TRUE,
  min_obs = 50L,
  min_events = 20L,
  bounds = c(0.005, 0.995),
  times = NULL,
  sl_fn = "SuperLearner",
  verbose = TRUE,
  refit = FALSE
)
}
\arguments{
\item{obj}{A \code{longy_data} object with at least one regime defined.}

\item{regime}{Character. Name of the regime.}

\item{covariates}{Character vector. Predictor columns. If NULL, uses all
baseline + timevarying covariates.}

\item{learners}{Character vector. SuperLearner library.}

\item{sl_control}{List. Additional SuperLearner arguments.}

\item{adaptive_cv}{Logical. Adaptive CV fold selection.}

\item{min_obs}{Integer. Minimum observations for model fitting.}

\item{min_events}{Integer. Minimum minority-class events required to fit a
model. When the minority class count is below this AND the minority rate
is below 0.01, marginal fallback is used. Default 20.}

\item{bounds}{Numeric(2). Prediction bounds.}

\item{times}{Numeric vector. If provided, only fit through \code{max(times)}.}

\item{sl_fn}{Character. SuperLearner implementation: \code{"SuperLearner"}
(default) or \code{"ffSL"} (future-factorial parallel).}

\item{verbose}{Logical. Progress messages.}

\item{refit}{Logical. If FALSE (default), errors when censoring is already
fitted for the requested regime(s). Set to TRUE to re-fit.}
}
\value{
Modified \code{longy_data} object with censoring fits stored in
\code{obj$fits$censoring}, a named list keyed by internal column name
(e.g. \code{".cens_censored"}).
}
\description{
Fits models for P(C(t) = 0 | past) at each time point, separately for
each censoring cause. The risk set is all subjects uncensored through t-1.
Models are fit on the full uncensored sample regardless of regime consistency,
matching ltmle/stremr.
}
\details{
This function loops over the internal binary censoring columns stored in
\code{obj$nodes$censoring} (e.g. \code{".cens_censored"}, \code{".cens_death"}).
These are created automatically by \code{\link{longy_data}} from the
user-provided character censoring column. If there are no censoring columns
(censoring is NULL), the function returns immediately.
}
